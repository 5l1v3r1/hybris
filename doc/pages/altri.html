
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="it"
 lang="it" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<!-- metadata -->
<meta name="generator" content="Offline" />
<meta name="version" content="Offline 0.1" />
<!-- style sheet links -->
<link rel="stylesheet" media="all" type="text/css" href="../css/all.css" />
<link rel="stylesheet" media="screen" type="text/css" href="../css/screen.css" />
<link rel="stylesheet" media="print" type="text/css" href="../css/print.css" />

</head>
<body>
<div class="dokuwiki export">


<p>
Hybris offre un set di operatori non standard, ovvero che sono al di fuori delle categorie degli operatori aritmetici, degli operatori logici e degli operatori booleani che servono per operare sui tipi più complessi come le mappe, le matrici, le stringhe e gli alias.
</p>



<h1><a name="operatore" id="operatore">Operatore .</a></h1>
<div class="level1">

<p>
Questo operatore segue la sintassi :
</p>
<pre class="code hybris">a.<span class="me1">b</span></pre>

<p>
e concatena i valori di &#039;a&#039; e di &#039;b&#039; restituendo una stringa composta.
</p>

<p>
La forma :
</p>
<pre class="code hybris">a .<span class="sy0">=</span> b</pre>

<p>
equivale a :
</p>
<pre class="code hybris">a <span class="sy0">=</span> a.<span class="me1">b</span></pre>

</div>
<!-- SECTION "Operatore ." [271-517] -->
<h1><a name="operatore_subscript" id="operatore_subscript">Operatore [ ] (subscript)</a></h1>
<div class="level1">

<p>
L&#039;operatore subscript si utilizza per i tipi array, map, matrix e string e serve per accedere in lettura e/o scrittura ad un dato elemento della lista .
</p>

<p>
Nel caso degli array :
</p>
<pre class="code hybris">a<span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="sy0">=</span> b</pre>

<p>
aggiunge in coda l&#039;elemento &#039;b&#039; all&#039;array &#039;a&#039;, mentre
</p>
<pre class="code hybris">b <span class="sy0">=</span> a<span class="br0">&#91;</span><span class="nu0">10</span><span class="br0">&#93;</span></pre>

<p>
che è valido sia per le stringhe che per gli array, restituisce il decimo valore contenuto nell&#039;array o nella stringa &#039;a&#039; .
</p>

<p>
Nel caso di map
</p>
<pre class="code hybris">a<span class="br0">&#91;</span><span class="st0">&quot;chiave&quot;</span><span class="br0">&#93;</span> <span class="sy0">=</span> b</pre>

<p>
mappa l&#039;elemento &#039;b&#039; dentro &#039;a&#039; con la chiave “chiave” che sarà successivamente accessibile tramite
</p>
<pre class="code hybris">b <span class="sy0">=</span> a<span class="br0">&#91;</span><span class="st0">&quot;chiave&quot;</span><span class="br0">&#93;</span></pre>

<p>
Nel caso di una matrice, la logica è quella degli array con la differenza che si considera un accesso bidimensionale, ovvero
</p>
<pre class="code hybris">a<span class="br0">&#91;</span><span class="nu0">10</span><span class="br0">&#93;</span><span class="br0">&#91;</span><span class="br0">&#93;</span> <span class="sy0">=</span> b</pre>

<p>
aggiunge in coda l&#039;elemento &#039;b&#039; nella decima riga della matrice &#039;a&#039; e
</p>
<pre class="code hybris">b <span class="sy0">=</span> a<span class="br0">&#91;</span><span class="nu0">10</span><span class="br0">&#93;</span><span class="br0">&#91;</span><span class="nu0">0</span><span class="br0">&#93;</span></pre>

<p>
restituisce il primo valore della decima riga della matrice &#039;a&#039;, cioè alle coordinate (10,0).
</p>

</div>
<!-- SECTION "Operatore [ ] (subscript)" [518-1533] -->
<h1><a name="operatore__range" id="operatore__range">Operatore .. (range)</a></h1>
<div class="level1">

<p>
L&#039;operatore range serve per ottenere velocemente un array di valori costanti compresi in un dato intervallo noto nella forma
</p>
<pre class="code hybris">a <span class="sy0">=</span> b .. <span class="me1">c</span></pre>

<p>
dove &#039;a&#039; è l&#039;array risultante, &#039;b&#039; è il valore iniziale dell&#039;intervallo e &#039;c&#039; è il valore finale.
Come si può vedere nella sezione sui costrutti iterativi, l&#039;operatore range può essere usato nei seguenti modi.
</p>

<p>
Esempio 1 :
</p>
<pre class="code hybris">a <span class="sy0">=</span> 1 .. <span class="nu0">10</span><span class="sy0">;</span>
<span class="kw1">foreach</span><span class="br0">&#40;</span> i <span class="kw1">of</span> a <span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw3">println</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
Esempio 2 :
</p>
<pre class="code hybris"><span class="kw1">foreach</span><span class="br0">&#40;</span> i <span class="kw1">of</span> 1 .. 10 <span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw3">println</span><span class="br0">&#40;</span>i<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

<p>
Esempio 3 :
</p>
<pre class="code hybris">charset <span class="sy0">=</span> <span class="st0">'a'</span> .. <span class="st0">'z'</span><span class="sy0">;</span>
<span class="kw1">foreach</span><span class="br0">&#40;</span> c <span class="kw1">of</span> charset <span class="br0">&#41;</span><span class="br0">&#123;</span>
   <span class="kw3">println</span><span class="br0">&#40;</span>c<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>

</div>
<!-- SECTION "Operatore .. (range)" [1534-2207] -->
<h1><a name="operatore_regexp" id="operatore_regexp">Operatore ~= (regexp)</a></h1>
<div class="level1">

<p>

Questo operatore serve per applicare un espressione regolare su una data stringa, effettuando un match o un estrazione di token nel caso nella regexp siano specificate due o più parentesi di capture.
</p>

<p>
Esempio 1 (match booleano) :
</p>
<pre class="code hybris">mails <span class="sy0">=</span> <span class="kw3">array</span><span class="br0">&#40;</span> <span class="st0">&quot;evilsocket@gmail.com&quot;</span><span class="sy0">,</span> <span class="st0">&quot;lamer@foo&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw1">foreach</span><span class="br0">&#40;</span> mail <span class="kw1">of</span> mails <span class="br0">&#41;</span><span class="br0">&#123;</span>
	<span class="kw1">if</span><span class="br0">&#40;</span> mail ~<span class="sy0">=</span> <span class="st0">&quot;/^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+<span class="es0">\.</span>[a-zA-Z.]{2,5}$/i&quot;</span> <span class="br0">&#41;</span><span class="br0">&#123;</span>
		<span class="kw3">print</span><span class="br0">&#40;</span> mail.<span class="st0">&quot; è un email valida .<span class="es0">\n</span>&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>	
	<span class="br0">&#125;</span>
	<span class="kw1">else</span><span class="br0">&#123;</span>
		<span class="kw3">print</span><span class="br0">&#40;</span> mail.<span class="st0">&quot; NON è un email valida .<span class="es0">\n</span>&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>	
	<span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre>

<p>
Esempio 2 (estrazione di token) :
</p>
<pre class="code hybris">html  <span class="sy0">=</span> <span class="kw3">http_get</span><span class="br0">&#40;</span> <span class="st0">&quot;www.google.it&quot;</span> <span class="sy0">,</span> <span class="st0">&quot;/&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
links <span class="sy0">=</span> html ~<span class="sy0">=</span> <span class="st0">&quot;/a[^&gt;]+href=[<span class="es0">\&quot;</span>']([^<span class="es0">\&quot;</span>']+)[<span class="es0">\&quot;</span>']/i&quot;</span><span class="sy0">;</span>
<span class="kw1">foreach</span><span class="br0">&#40;</span> link <span class="kw1">of</span> links <span class="br0">&#41;</span><span class="br0">&#123;</span>
	<span class="kw3">print</span><span class="br0">&#40;</span> <span class="st0">&quot;<span class="es0">\t</span>&quot;</span>.<span class="me1">link</span>.<span class="st0">&quot;<span class="es0">\n</span>&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>	
<span class="br0">&#125;</span></pre>

</div>
<!-- SECTION "Operatore ~= (regexp)" [2208-2964] -->
<h1><a name="operatore1" id="operatore1">Operatore $</a></h1>
<div class="level1">

<p>
Tramite questo operatore è possibile accedere ad una variabile tramite una stringa che ne contenga il nome, ad esempio la variabile “foo” potrà essere letta e/o scritta tramite la direttiva
</p>
<pre class="code hybris">$<span class="st0">&quot;foo&quot;</span> <span class="sy0">=</span> <span class="nu0">123</span></pre>

<p>
o
</p>
<pre class="code hybris">b <span class="sy0">=</span> $<span class="st0">&quot;foo&quot;</span></pre>

<p>
Una nota particolare va fatta sugli argomenti della linea di comando che sfruttano proprio questo operatore, essendo utilizzabili tramite le
pseudo variabili $0, $1, $2, ecc ecc dove $0 contiene il nome dello script in esecuzione ed i valori successivi i suoi argomenti nel caso
esistano.
</p>

</div>
<!-- SECTION "Operatore $" [2965-3544] -->
<h1><a name="operatore2" id="operatore2">Operatore @</a></h1>
<div class="level1">

<p>

L&#039;operatore <strong>@</strong> serve per ottenere un <a href="array.html" class="wikilink1" title="array">array</a> contenente i valori<sup><a href="#fn__1" name="fnt__1" id="fnt__1" class="fn_top">1)</a></sup> delle variabili attualmente definite sullo stack, questo aspetto può tornare utile nel caso di <a href="le_funzioni.html" class="wikilink1" title="le_funzioni">funzioni</a> che sfruttano la direttiva <strong>…</strong> e di conseguenza non sanno a priori quanti e quali argomenti riceveranno, ad esempio :
</p>
<pre class="code hybris"><span class="kw2">function</span> foo<span class="br0">&#40;</span> ... <span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">foreach</span><span class="br0">&#40;</span> argomento <span class="kw1">of</span> <span class="sy0">@</span> <span class="br0">&#41;</span><span class="br0">&#123;</span>
        <span class="kw3">println</span><span class="br0">&#40;</span> argomento <span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&nbsp;
foo<span class="br0">&#40;</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">0.2</span><span class="sy0">,</span> <span class="st0">&quot;bar&quot;</span><span class="sy0">,</span> <span class="st0">&quot;moo&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
Stamperà 

</p>
<pre class="code">1
0.200000
bar
moo</pre>

</div>
<!-- SECTION "Operatore @" [3545-4136] -->
<h1><a name="operatore_explode" id="operatore_explode">Operatore &#039;explode&#039;</a></h1>
<div class="level1">

<p>

L&#039;operatore explode, considerato un costrutto ibrido, serve per copiare gli elementi di un <a href="array.html" class="wikilink1" title="array">array</a> o comunque di un <a href="http://www.hybris-lang.org/wiki/doku.php?id=classe#descrittore_size" class="urlextern" title="http://www.hybris-lang.org/wiki/doku.php?id=classe#descrittore_size"  rel="nofollow">oggetto iterabile</a> all&#039;interno di variabili distinte, la sua sintassi è :
</p>
<pre class="code hybris"><span class="br0">&#40;</span> <span class="co2">/* lista variabili */</span> <span class="br0">&#41;</span> <span class="sy0">=</span> <span class="co2">/* array o oggetto iterabile */</span><span class="sy0">;</span></pre>

<p>
Ad esempio :
</p>
<pre class="code hybris">foo <span class="sy0">=</span> <span class="kw3">array</span><span class="br0">&#40;</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="st0">&quot;moo&quot;</span><span class="sy0">,</span> <span class="st0">&quot;bar&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="br0">&#40;</span> a<span class="sy0">,</span> b<span class="sy0">,</span> c<span class="sy0">,</span> d <span class="br0">&#41;</span> <span class="sy0">=</span> foo<span class="sy0">;</span></pre>

<p>
In questo caso, le variabili a, b, c e d verranno definite ed impostate con i quattro elementi dell&#039;array &#039;foo&#039;.
Alternativamente, se non si desidera prelevare tutti gli elementi dall&#039;array, si possono specificare meno variabili :
</p>
<pre class="code hybris">foo <span class="sy0">=</span> <span class="kw3">array</span><span class="br0">&#40;</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">2</span><span class="sy0">,</span> <span class="st0">&quot;moo&quot;</span><span class="sy0">,</span> <span class="st0">&quot;bar&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="br0">&#40;</span> a<span class="sy0">,</span> b <span class="br0">&#41;</span> <span class="sy0">=</span> foo<span class="sy0">;</span></pre>

</div>
<!-- SECTION "Operatore 'explode'" [4137-] --><div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" name="fn__1" class="fn_bot">1)</a></sup> 
Essendo un array contiene solo i valori e non i loro nomi.</div>
</div>
</div><!-- closes <div class="dokuwiki export">-->