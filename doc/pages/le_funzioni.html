
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="it"
 lang="it" dir="ltr">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
<!-- metadata -->
<meta name="generator" content="Offline" />
<meta name="version" content="Offline 0.1" />
<!-- style sheet links -->
<link rel="stylesheet" media="all" type="text/css" href="../css/all.css" />
<link rel="stylesheet" media="screen" type="text/css" href="../css/screen.css" />
<link rel="stylesheet" media="print" type="text/css" href="../css/print.css" />

</head>
<body>
<div class="dokuwiki export">




<h1><a name="introduzione" id="introduzione">Introduzione</a></h1>
<div class="level1">

<p>

Dichiarare ed utilizzare una funzione, routine o come la si vuole chiamare, spesso e volentieri ci aiuta molto nel suddividere un determinato algoritmo in parti più piccole che, prese singolarmente, sono più semplici da implementare.
Una funzione è un blocco di codice che effettua determinate operazioni e che può avere opzionalmente degli argomenti (l&#039;input della funzione) e può restituire (sempre opzionalmente) un valore in output.
</p>

<p>
In hybris la sintassi per dichiarare una funzione è la seguente : 
</p>
<pre class="code hybris"><span class="kw2">function</span> <span class="co2">/* nome della funzione */</span> <span class="br0">&#40;</span> <span class="co2">/* eventuali argomenti */</span> <span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="co2">/* corpo della funzione */</span>
<span class="br0">&#125;</span></pre>

<p>
Ad esempio, se volessimo implementare una funzione che effettua la somma tra due numeri e ne restituisce il risultato :
</p>
<pre class="code hybris"><span class="kw2">function</span> somma<span class="br0">&#40;</span> a<span class="sy0">,</span> b <span class="br0">&#41;</span><span class="br0">&#123;</span>
   <span class="kw1">return</span> a <span class="sy0">+</span> b<span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
numero_1 <span class="sy0">=</span> <span class="nu0">10</span><span class="sy0">;</span>
numero_2 <span class="sy0">=</span> <span class="nu0">124</span><span class="sy0">;</span>
&nbsp;
somma  <span class="sy0">=</span> somma<span class="br0">&#40;</span> numero_1<span class="sy0">,</span> numero_2 <span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="kw3">println</span><span class="br0">&#40;</span> numero_1 <span class="sy0">+</span> <span class="st0">&quot; + &quot;</span> <span class="sy0">+</span> numero_2 <span class="sy0">+</span> <span class="st0">&quot; = &quot;</span> <span class="sy0">+</span> somma <span class="br0">&#41;</span><span class="sy0">;</span></pre>

</div>
<!-- SECTION "Introduzione" [1-980] -->
<h1><a name="visibilita_delle_variabili" id="visibilita_delle_variabili">Visibilità delle Variabili</a></h1>
<div class="level1">

<p>

Un discorso particolare va fatto inoltre sulla visibilità delle variabili ovvero, come accedere a variabili dichiarate fuori dal corpo di una funzione dall’interno di essa.
</p>

<p>
Hybris segue una logica secondo la quale le varibili dichiarate nel corpo principale dello script sono globali, un po come avviene nel javascript, c, c++, ecc, ovvero saranno visibili anche dall’interno di funzioni dichiarate successivamente la variabile.
</p>

<p>
Questo significa che, se abbiamo la necessità di sfruttare una variabile esterna dall’interno di una funzione, dobbiamo dichiararla all&#039;esterno della funzione stessa in modo tale che, nel momento in cui la funzione viene richiamata, sarà la dichiarazione della variabile nella memoria virtuale di hybris. 
</p>

<p>
Vediamo l’esempio precedente con una piccola modifica : 
</p>
<pre class="code hybris"><span class="kw2">function</span> somma<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
   <span class="kw1">return</span> numero_1 <span class="sy0">+</span> numero_2<span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
numero_1 <span class="sy0">=</span> <span class="nu0">10</span><span class="sy0">;</span>
numero_2 <span class="sy0">=</span> <span class="nu0">124</span><span class="sy0">;</span> 
&nbsp;
somma <span class="sy0">=</span> somma<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw3">println</span><span class="br0">&#40;</span> numero_1 <span class="sy0">+</span> <span class="st0">&quot; + &quot;</span> <span class="sy0">+</span> numero_2 <span class="sy0">+</span> <span class="st0">&quot; = &quot;</span> <span class="sy0">+</span> somma <span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
In questo caso, invece di utilizzare degli argomenti in ingresso, la funzione sfrutta le due variabili dichiarate all&#039;esterno del suo corpo, quindi globalmente.
</p>

</div>
<!-- SECTION "Visibilità delle Variabili" [981-2173] -->
<h1><a name="passaggio_per_copia_e_riferimento" id="passaggio_per_copia_e_riferimento">Passaggio per Copia e Riferimento</a></h1>
<div class="level1">

<p>

Nei vari esempi che abbiamo visto, gli argomenti delle funzioni vengono passati per <strong>copia</strong>, ovvero viene creata una copia a runtime di ogni argomento in modo tale che qualsiasi modifica la variabile che contraddistingue l&#039;argomento subisca all&#039;interno della funzione, questa non si ripercuota anche sulla variabile originale, ad esempio :
</p>
<pre class="code hybris"><span class="kw2">function</span> esegui_modifica<span class="br0">&#40;</span> s <span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="coMULTI">/*
     * 's' è una copia di 'str', quindi questa modifica non si 
     * ripercuoterà anche su 'str' ma solo su 's'
     */</span>
    s <span class="sy0">=</span> <span class="st0">&quot;nuova stringa&quot;</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
str <span class="sy0">=</span> <span class="st0">&quot;ciao&quot;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// passaggio per copia</span>
esegui_modifica<span class="br0">&#40;</span> str <span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="kw3">println</span><span class="br0">&#40;</span> str <span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
Stamperà sulla console :

</p>
<pre class="code">  ciao
  </pre>

<p>
poichè, come indicato nel commento del codice, &#039;s&#039; rappresenta una <strong>copia</strong> di &#039;str&#039; creata appositamente prima dell&#039;esecuzione della funzione.
</p>

<p>
Se invece desideriamo che uno o più argomenti di una funzione siano modificabili dall&#039;interno della funzione stessa, dobbiamo passarglieli per <a href="reference.html" class="wikilink1" title="reference">riferimento</a>, ovvero, tramite l&#039;operatore <strong>&amp;</strong>, creare un riferimento alla variabile che, quando sarà aggiornato, aggiornerà anche la variabile referenziata.
</p>

<p>
Modificando il precedente esempio :
</p>
<pre class="code hybris"><span class="kw2">function</span> esegui_modifica<span class="br0">&#40;</span> s <span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="coMULTI">/*
     * 's' questa volta è un riferimento di 'str' e quindi ogni  modifica
     * che subisce, ripercuoterà anche su 'str'
     */</span>
    s <span class="sy0">=</span> <span class="st0">&quot;nuova stringa&quot;</span><span class="sy0">;</span>
<span class="br0">&#125;</span>
&nbsp;
str <span class="sy0">=</span> <span class="st0">&quot;ciao&quot;</span><span class="sy0">;</span>
&nbsp;
<span class="co1">// passaggio per riferimento</span>
esegui_modifica<span class="br0">&#40;</span> <span class="sy0">&amp;</span>str <span class="br0">&#41;</span><span class="sy0">;</span>
&nbsp;
<span class="kw3">println</span><span class="br0">&#40;</span> str <span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
Questa volta il codice stamperà :

</p>
<pre class="code">  nuova stringa
  </pre>

<p>
proprio grazie a questo espediente.
</p>

</div>
<!-- SECTION "Passaggio per Copia e Riferimento" [2174-3804] -->
<h1><a name="numero_di_argomenti_variabile" id="numero_di_argomenti_variabile">Numero di argomenti variabile</a></h1>
<div class="level1">

<p>

Nel caso in cui volessimo definire una funzione <sup><a href="#fn__1" name="fnt__1" id="fnt__1" class="fn_top">1)</a></sup> che non richiede un numero definito di argomenti, ma ne può accettare un qualsiasi numero decida l&#039;utente, la si può definire nel seguente modo :
</p>
<pre class="code hybris"><span class="kw2">function</span> foo<span class="br0">&#40;</span> <span class="sy0">...</span> <span class="br0">&#41;</span><span class="br0">&#123;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

<p>
In questo caso, per accedere agli argomenti, si deve usare l&#039;<a href="altri.html" class="wikilink1" title="altri">operatore @</a> nel seguente modo :
</p>
<pre class="code hybris"><span class="kw2">function</span> foo<span class="br0">&#40;</span> <span class="sy0">...</span> <span class="br0">&#41;</span><span class="br0">&#123;</span>
    <span class="kw1">foreach</span><span class="br0">&#40;</span> argomento <span class="kw1">of</span> <span class="sy0">@</span> <span class="br0">&#41;</span><span class="br0">&#123;</span>
        <span class="kw3">println</span><span class="br0">&#40;</span> argomento <span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&nbsp;
foo<span class="br0">&#40;</span> <span class="nu0">1</span><span class="sy0">,</span> <span class="nu0">0.2</span><span class="sy0">,</span> <span class="st0">&quot;bar&quot;</span><span class="sy0">,</span> <span class="st0">&quot;moo&quot;</span> <span class="br0">&#41;</span><span class="sy0">;</span></pre>

<p>
Che stamperà :

</p>
<pre class="code">1
0.200000
bar
moo</pre>

<p>
Se volessimo definire una funzione che, <strong>pretende</strong> almeno un parametro, ma ne può accettare anche più di uno opzionalmente, scriveremo :
</p>
<pre class="code hybris"><span class="kw2">function</span> foo<span class="br0">&#40;</span> primo<span class="sy0">,</span> <span class="sy0">...</span> <span class="br0">&#41;</span><span class="br0">&#123;</span>
&nbsp;
<span class="br0">&#125;</span></pre>

<p>
E così via, purchè la direttiva <strong>…</strong> si trovi sempre alla fine della lista degli argomenti .

</p>

</div>
<!-- SECTION "Numero di argomenti variabile" [3805-] --><div class="footnotes">
<div class="fn"><sup><a href="#fnt__1" id="fn__1" name="fn__1" class="fn_bot">1)</a></sup> 
Lo stesso principio è valido anche per i <a href="classe.html" class="wikilink1" title="classe">metodi</a>.</div>
</div>
</div><!-- closes <div class="dokuwiki export">-->